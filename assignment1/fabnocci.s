	AREA appcode,CODE,READONLY
    EXPORT __main
		ENTRY 
__main  FUNCTION
		MOV R0,#20			;FIBONACCI FUNCTION INPUT NUMBER	
	    MOV R1,#0			;SUM1
		MOV R2,#1			;SUM2
		MOV R4,#0x20000000	;ADDRESS TO STORE
		
		CMP R0,#1           ;EDGE CASE 0
		BNE EDGE1           ;BRANCH IF NOT EQUAL          
		MOV R3,R1           ;MOVE R1 TO R3
		B FINISH            ;BRANCH TO FINISH


EDGE1 	CMP R0,#2           ;EDGE CASE 1
		BNE NORMALFLOW          ;BRANCH IF NOT EQUAL     
		MOV R3,R2           ;MOVE R2 TO R3
		B FINISH            ;BRANCH TO FINISH
		
		
NORMALFLOW 	SUB R0,R0,#1        ;DECREMENT THE COUNT OF R0[NTH FIBONACCI]
		ADD R3,R2,R1        ;R2+R1 IS STORED IN R3
		MOV R1,R2           ;MOVE THE LASTEST TO PREV REGISTER
		MOV R2,R3           ;MOVE THE SUM1+SUM2 TO LATEST REGISTER 
		CMP R0,#2           ;CHECK IF COUNT IS 2
		BNE NORMALFLOW          ;BRANCH IF NOT EQUAL


FINISH  STR R3,[R4]			;STORE THE VALUE
stop    B stop              ;TO STOP THE PROGRAM
     ENDFUNC
     END